---
title: Installations
description: Installation des outils n√©cessaires pour le cours
---

import { Tabs, TabItem } from '@astrojs/starlight/components'
import { Steps } from '@astrojs/starlight/components'
import ImageLoader from '@components/ImageLoader.astro'
import Admonition from '@components/Admonition.astro'
import SidebarToggle from '@components/SidebarToggle.astro'
import LabeledLink from '@components/LabeledLink.astro'
import LabeledAnchor from '@components/LabeledAnchor.astro'

<SidebarToggle />


ce guide vise √† vous permettre de faire toutes les installations n√©cessaires.

## la liste des outils

<Admonition type="note" title="La liste des outils" collapsible>

il nous faut a minima :

* le **terminal** - nous utilisons **`bash`**, qui est
  * natif sur les OS linux et MacOS,
  * et qui vient avec le produit `git for windows`
* l'√©diteur de code **Visual Studio Code**, mieux connu comme VS-code
* **miniconda** pour Python (et les environnements virtuels)
* **Jupyter** pour les notebooks
  * on parlera un peu de *markdown* pour la mise en forme du texte,
  * et de $\LaTeX$ pour les formules math√©matiques
* **Git** pour la gestion de versions
  * c'est un outil super-utile pour le d√©veloppement, c'est indispensable que vous sachiez l'utiliser
* enfin on configurera √©galement un compte sur **github.com**
  * pour le stockage de vos travaux - typiquement les rendus
  * et le travail en groupe - typiquement les hackatons et projets

  <Admonition type="note" title="et pour le S2" collapsible>

  pour le S2, on vous demandera aussi d'installer Node.js; ce n'est pas
  n√©cessaire de l'installer tout de suite mais [les instructions sont ici](#label-install-nodejs)

  </Admonition>

</Admonition>

## quelques conseils

Mais avant de commencer, voici quelques recommandations g√©n√©rales :

<Admonition type="caution" title="√Ä lire attentivement !">
Ceux qui zappent cette section ont 95% de chances de tomber dans le pi√®ge !
</Admonition>

### comment tester une installation

apr√®s avoir install√©, disons par exemple VS Code, on va v√©rifier que √ßa a bien march√©.   
Pour √ßa, on vous dit de taper dans le terminal `code .`

mais en fait l'installation de VS Code modifie **la fa√ßon dont s'initialise** le terminal,  
et du coup √ßa n'**affecte pas** les terminaux **cr√©√©s avant** l'installation.

<Admonition type="caution" title="Pensez-y !">
Il faut donc prendre l'habitude de **lancer un nouveau terminal apr√®s une installation**
</Admonition>

ceci est notamment pertinent lorsque vous recevez une erreur comme  
`code: command not found`  
si ce sympt√¥me persiste m√™me apr√®s avoir essay√© dans un nouveau terminal, c'est que l'installation s'est mal pass√©e.

<Admonition type="note" title="Le PATH (pour les curieux)" collapsible>

le `PATH` c'est le m√©canisme qui permet au terminal de trouver les commandes

et quand on installe un nouveau logiciel - comme on va le faire tout de suite avec
*git for windows* - il est souvent n√©cessaire de **modifier le `PATH`** pour que les nouvelles
commandes deviennent accessibles depuis le terminal

ce n'est pas crucial de le savoir, mais si vous √™tes curieux, sachez que

* `PATH` c'est ce qu'on appelle une variable d'environnement (√ßa veut dire qu'elle se
  propage d'un processus √† l'autre),

* que c'est une liste de r√©pertoires o√π sont cherch√©es les commandes

  ```bash
  # un exemple sur linux/macos
  # le ':' est un s√©parateur
  $ echo $PATH
  /opt/conda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
  ```

* et qu'elle est le plus souvent d√©finie/modifi√©e dans un fichier cach√© qui s'appelle `.bashrc` dans votre homedir
* lorsque vous cr√©ez un nouveau terminal, celui-ci va **lire le contenu** de votre `.bashrc`  
  c'est pourquoi il **faut cr√©er un nouveau terminal** pour tester une installation qu'on vient juste de faire

</Admonition>

### comment bien installer sur MacOS

sur Mac, quand vous installez une application - comme notamment vs-code:  
il est tr√©s important **de copier l'application dans le dossier `Applications`** - on aura l'occasion d'en reparler

## üîß git (et bash sur Windows)


<Admonition title="on installe" collapsible>
suivez les instructions pour votre OS
<Tabs>
<TabItem label="Windows" icon="seti:windows">

en installant ***git for windows*** on va faire d'une
pierre deux coups, et installer √† la fois `bash` et `git`

* allez sur le site l√† [https://gitforwindows.org/](https://gitforwindows.org/)
* t√©l√©chargez et lancez l'installation...
* vous pouvez prendre **toutes les options par d√©faut**

  <Admonition title="on peut prendre toutes les options par d√©faut" collapsible type="tip">

  et entre autres, √† la question ***Adjusting your PATH environment*** :  
choisissez au moins l'option recommand√©e (#2) - on peut prendre l'option (#3) si on veut importer plus d'outils dans le terminal, mais ce n'est pas strictement n√©cessaire pour le cours

  <ImageLoader filename="fig-set-path-git-for-windows.png" />
  </Admonition>

  <Admonition title="machine DSI / pas de droit administrateur ?" type="caution" collapsible>

  le programme d'installation de *git for windows* est con√ßu pour installer le programme dans `C:\Program Files`,
  qui peut n√©cessiter des **droits administrateur**; et malheureusement il ne propose pas de choisir un autre endroit...

  aussi, si vous n'arrivez pas √† installer *git for windows*, il va vous falloir lancer le programme d'installation "√† la main" c'est-√†-dire depuis un terminal;
  voici la proc√©dure √† suivre dans ce cas:

  * lancer un terminal *PowerShell* (on ne peut pas encore utiliser le terminal *bash* naturellement, puisqu'on ne l'a pas encore install√©)
  * trouver le nom de votre *homedir*; pour cela tapez
    ```bash
    cd
    pwd
    ```
    qui devrait vous r√©pondre quelque chose qui contient votre nom, comme genre
    ```bash
    C:\Users\Jean Mineur
    ```
  * se d√©placer dans le dossier o√π vous avez t√©l√©charg√© le programme d'installation (g√©n√©ralement `Downloads`)
    ```bash
    cd Downloads
    ```
  * lancer le programme d'installation en ligne de commande en pr√©cisant un dossier d'installation **sous votre homedir**  
    √† affiner selon le nom du fichier que vous avez t√©l√©charg√©, mais √ßa ressemble √†
    ```bash
    .\Git-2.34.1-64-bit.exe /DIR="C:\Users\Jean Mineur\GitForWindows"
    ```
  </Admonition>
</TabItem>
<TabItem label="Mac & Linux" icon="apple">

sur ces deux OS, `bash` est **pr√©install√©**  
pour installer `git`, utilisez ce lien: [D√©marrage rapide de git](https://git-scm.com/book/fr/v2/D%C3%A9marrage-rapide-Installation-de-Git)

* rien de particulier √† signaler sur linux, c'est sans doute d√©j√† install√©, et sinon c'est trivial
* par contre pour les Mac: **attention √ßa peut √™tre long !!** la m√©thode recommand√©e passe par l'activation de Xcode, un peu de patience sera n√©cessaire..
  <Admonition title="Mac & Xcode" collapsible>
  si vous optez pour la m√©thode "XCode", on vous dit de taper `git --version` pour d√©clencher l'installation de XCode; si cela vous affiche seulement un message d'erreur, vous pouvez aussi lancer l'installation de XCode directement depuis le terminal avec la commande suivante:

  ``` bash
  xcode-select --install
  ```
  </Admonition>
</TabItem>
</Tabs>
</Admonition>

<Admonition title="on v√©rifie bash (tous OS)" type="caution" collapsible>

vous devez pouvoir

* lancer un terminal `bash`
  <Admonition title="Windows" collapsible>

  cherchez *bash* dans le menu D√©marrer  
  lancez l'application qui s'appelle *Git Bash*  
  n'h√©sitez pas √† faire en sorte (*Pin to Taskbar*) que ce programme reste dans la barre des t√¢ches m√™me lorsqu'il est inactif; √ßa vous facilitera la vie...
  </Admonition>

* pour v√©rifier que c'est bien du `bash` - et pas du *PowerShell* par exemple, tapez
  ```bash
  echo $BASH_VERSION
  ```
  qui doit r√©pondre
  ```bash
  5.2.15(1)-release        # c'est juste un exemple hein
  ```
  <Admonition title="zsh sur Mac" collapsible>

  si vous avez un Mac, il se peut que votre terminal soit un `zsh` et pas un `bash`  
  ce n'est pas un souci, les deux outils sont tr√®s largement compatibles !  
  pour savoir quel est exactement votre shell, vous pouvez faire  
  ```console
  echo $SHELL
  ```
  </Admonition>
</Admonition>

<Admonition title="on v√©rifie git (tous OS)" type="caution" collapsible>

* pour v√©rifer que vous avez bien install√© `git`:
  ```bash
  $ git --version
  git version 2.41.0       # pareil, la r√©ponse peut √™tre diff√©rente chez vous
  ```
  **remarque**
  dans cette forme, le `$` signifie que j'ai tap√© `git --version`  
  et que √ßa m'a r√©pondu `git version 2.41.0`  
  c'est pour abr√©ger un peu  
  pensez bien √† **ne pas taper le `$` vous m√™me**  
  car bien s√ªr √ßa va marcher beaucoup moins bien si vous le faites ;)

* si vous n'avez pas **au moins la version 2.23**, faites-vous connaitre; le mieux serait de mettre √† jour pour obtenir une version plus r√©cente, car certains √©l√©ments du cours sur git ne vont pas fonctionner chez vous...
</Admonition>

###  üöÄ exercice: le dossier `cours-info`

<Admonition title="pas √† pas" collapsible>

depuis le terminal on peut tout faire ! et pour commencer on va apprendre √† **cr√©er un dossier**  
c'est dans ce dossier qu'on vous invite √† travailler pendant les cours d'info

* cr√©ez un nouveau terminal
* **regardez dans quel dossier vous √™tes**
  ```bash
  pwd
  ```
  qui devrait vous r√©pondre quelque chose qui contient votre nom, comme genre
  ```bash
  # sur Windows
  /c/Users/Jean Mineur
  # sur Mac / Linux
  /Users/jeanmineur
  ```
  c'est votre *home directory*, en abr√©g√© *homedir*

  <Admonition title="ce n'est pas le cas ?" type="danger" collapsible>
    si vous vous trouvez dans un dossier bizarre (qui n'a rien √† voir avec votre nom),
    prenez l'habitude de commencer par forcer le terminal √† aller dans votre homedir en faisant simplement
    ```bash
    cd
    ```
    <Admonition title="√† quoi √ßa sert ?" collapsible>

    sur mac et linux, c'est optionnel car le terminal d√©marre justement dans le homedir; c'est le comportement normal  
    par contre selon les configurations sur Windows, il peut √™tre n√©cessaire de prendre l'habitude de faire un premier `cd` au d√©but du terminal, car dans certains setups le terminal d√©marre dans un autre dossier...
    </Admonition>
  </Admonition>

* **cr√©ez un dossier `cours-info`**
  ```bash
  mkdir cours-info
  ```
  bien entendu il ne faut le faire qu'une seule fois :)

* **allez dans ce nouveau dossier**
  ```bash
  cd cours-info
  ```
  √©ventuellement refaites `pwd` pour constater que vous avez chang√© de dossier

* maintenant ouvrez votre **explorateur de fichiers**, et d√©placez-vous dans ce m√™me dossier
  √† ce stade vous devez constater que le dossier est bien cr√©√©, et qu'il est bien vide
  <Admonition title="on peut cr√©er un raccourci">
  c'est important car c'est une op√©ration qu'on **va faire tr√®s souvent**;  
  on verra plus tard comment cr√©er, dans l'explorateur de fichiers, <LabeledLink 
  label="label-raccourci-cours-info" file="2-1-terminal-os">un raccourci pour pouvoir faire √ßa rapidement</LabeledLink>...
  </Admonition>
</Admonition>

## üîß vs-code

nous demandons √† **tous** les √©l√®ves d'installer et de savoir utiliser vs-code  
il s'agit d'un **√©diteur de code**, c'est ce qu'on va utiliser pour √©crire nos programmes  

<Admonition title="pas de pyzo" type="danger">

il y a eu **beaucoup de probl√®mes** les ann√©es pass√©es avec les √©diteurs de type *pyzo*  
ne les utilisez surtout pas dans nos cours, vous allez perdre un temps pr√©cieux et en faire perdre √† vos enseignants pour des raisons inint√©ressantes, et ext√©rieures √† Python
</Admonition>

<Admonition title="installation (toutes plateformes)" collapsible>

On y va. Le site est l√† [https://code.visualstudio.com/](https://code.visualstudio.com/).  
Vous voulez installer donc il va falloir que vous alliez dans une section *download* ... vous la voyez ?  
√† vous de jouer maintenant

  <Admonition title="Windows: toutes les option par d√©faut" collapsible>

  pour les Windows, √† nouveau vous prenez **toutes les options par d√©faut** (enfin, il faut accepter la licence, √©videmment)
  </Admonition>

  <Admonition title="pour les Mac: d√©placez dans le dossier Applications !" collapsible>

  **Attention**

  on l'a signal√© d√©j√† rapidement, mais la bonne fa√ßon d'installer une appli sur MacOS en g√©n√©ral est de la glisser-d√©placer dans le dossier `Applications`  

  aussi une fois que vous aurez t√©l√©charg√©, et double cliqu√© sur le zip, vous allez voir un fichier de type `.app`, **qui se trouve dans votre dossier `Downloads`**  
  **il est imp√©ratif** de glisser-d√©placer ce fichier dans le dossier `Applications`  
  si on ne le fait pas, √ßa semble fonctionner, mais on a des tas de probl√®mes assez retors par la suite

  </Admonition>
</Admonition>


<Admonition title="on v√©rifie l'installation de vs-code" type="caution" collapsible>

* si le programme d'installation a lanc√© un exemplaire de vs-code, fermez-le

* dans **un nouveau terminal** (voir + haut)
  ```bash
  code --version
  ```
  qui doit afficher un num√©ro de version (et d'autres d√©tails, par exemple
  ```bash
  1.84.2
  1a5daa3a0231a0fbba4f14db7ec463cf99d7768e
  x64
  ```

  <Admonition title="command not found ?" collapsible>

  si √† la place vous voyez
  ```bash
  code: command not found
  ```
  d'abord v√©rifiez que vous avez bien essay√© **dans un nouveau terminal** (oui je sais...)  
  et sinon <LabeledLink label="label-troubleshoot-code-command-not-found" file="3-2-troubleshooting">
  allez voir cette page </LabeledLink>
  </Admonition>

* lorsque √ßa fonctionne, prenez l'habitude de lancer vs-code comme ceci
  ```bash
  # first I want to choose in which folder I am going to work
  cd
  cd cours-info
  code .
  ```

* et tant que vous y √™tes, **activez le mode *Auto Save***:  
  ‚Æë dans le menu *File*, cliquez sur *Auto Save* (√ßa ajoute une check mark)  
  l'effet de ce r√©glage est que vos modifications sont sauv√©es toutes seules, pas besoin de *Control-S* sans arr√™t !

* pour ceux qui sont en avance, amusez-vous √† cr√©er un fichier:
  * Control-n (ou Command-n sur mac) pour cr√©er un nouveau fichier
  * Control-s (sur mac c'est toujours Command-truc) pour indiquer dans quel fichier le sauver, disons `foo.txt`
  * √©crivez une ligne ou deux
  * quittez vs-code
  * v√©rifiez la pr√©sence du nouveau fichier
    * depuis l'explorateur de fichiers
    * et aussi depuis le terminal, o√π vous pouvez utiliser `cat foo.txt` pour afficher le contenu que vous venez de taper
</Admonition>


## üîß miniconda / Python

* il y a de tr√®s nombreuses distributions de Python disponibles
* notre choix : **miniconda**, parce que
  * il est relativement l√©ger
  * il permet d'installer en mode "user", c'est-√†-dire sans droits administrateur
  * il permet √©galement de fabriquer des *environnements virtuels*
    (pas de panique, on n'utilisera pas √ßa tout de suite, mais c'est une possibilit√© qui devient vite int√©ressante)

* √ßa va sans dire, mais ne prenez **surtout pas Python 2.7** !

<Admonition title="on installe">
<Tabs>
<TabItem label="Windows" icon="seti:windows">

  <Admonition title="pr√©paration" collapsible>
  une premi√®re pr√©caution, sp√©cifique √† Windows:  
  il s'agit de contourner un bug dans l'installateur conda, qui se d√©clenche lorsqu'il y un caract√®re exotique (accent, c√©dille, ...) dans le nom du dossier d'installation; ce qui peut se produire si vous en avez dans votre nom !

  du coup, nous allons pour commencer cr√©er un dossier dont le nom est court et simple,
  et **qui ne contient pas d'accent**, pour pouvoir y installer miniconda sans rencontrer ce bug

  pour cela nous allons lancer la console Windows qui s'appelle `PowerShell`, et cr√©er le
  dossier `c:/miniconda`

  en deux √©tapes, √ßa se pr√©sente comme ceci¬†:

  <Steps>
  1. pour lancer la console `PowerShell`

     <ImageLoader filename="fig-miniconda-powershell-locate.png" />

  2. on va cr√©er maintenant le dossier dans lequel on installera ensuite miniconda,
  et pour cela il y a une seule ligne √† taper

     ```console
     md c:/miniconda
     ```

     <ImageLoader filename="fig-miniconda-powershell-md.png" />

     une fois la commande tap√©e vous pouvez sortir de PowerShell (utiliser la croix en haut √†
     droite par exemple)

  </Steps>
  </Admonition>


  <Admonition title="download" collapsible>
    Vous copiez les commandes suivantes dans un terminal bash

    ```bash
    curl https://repo.anaconda.com/miniconda/Miniconda3-latest-Windows-x86_64.exe -o miniconda-installer.exe
    ./miniconda-installer.exe
    ```

    et voyez l'√©tape suivante pour les r√©ponses aux questions

  </Admonition>


  <Admonition title="les r√©ponses aux questions" collapsible>

  vous lancez le `.exe`  
  et vous prenez les options par d√©faut lorsqu'on vous pose une question  
  **sauf pour les √©crans qui suivent**:

  * ***Install for:*** (si la question vous est pos√©e)   
    r√©pondez *Just me (recommended)*

    <ImageLoader filename="fig-miniconda-just-me.png" />

  * **le choix du dossier o√π installer**  
    sur cet √©cran vous remplacez le chemin qu'on vous propose par d√©faut, et vous
    choisissez √† la place le dossier qu'on a cr√©√© dans l'√©tape pr√©c√©dente, c'est-√†-dire
    `c:\miniconda`

    <ImageLoader filename="fig-miniconda-set-install-dir.png" />

  * **advanced options: *add to my PATH environment variable***  
    il est important de **bien cocher la case ci-dessous** (malgr√© l'avertissement en rouge)

    <ImageLoader filename="fig-miniconda-add-path.png" />

    <Admonition title="pas coch√© la case ?" collapsible type="danger">
    si par m√©garde vous √™tes all√© jusqu'au bout sans cocher cette case, <LabeledLink label="label-troubleshoot-python-command-not-found" file="">voyez cette page</LabeledLink>
    </Admonition>
  </Admonition>
</TabItem>

<TabItem label="MacOS" icon="apple">

  <Admonition title="pr√©paration: Intel ou M1 ?" collapsible>

  c'est important que vous sachiez dire si votre Mac a une puce Intel ou M1 (en fait pour l'installation miniconda, M1 ou M2 etc.. c'est pareil..)  
  et pour √ßa c'est simple, il suffit d'ouvrir le menu Pomme -> *About This Mac* o√π vous trouver l'information ici

  <ImageLoader filename="fig-macos-about.png" />
  </Admonition>

  <Admonition title="download et install" collapsible>

  toujours dans le terminal bien entendu, en fonction de votre puce:

  <Tabs>

  <TabItem label="Intel" icon="apple">

  ```bash
  curl https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.pkg -o miniconda-installer-intel.pkg
  open miniconda-installer-intel.pkg
  ```
  </TabItem>

  <TabItem label="M1/M2" icon="apple">
  ```bash
  curl https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-arm64.pkg -o miniconda-installer-arm.pkg
  open miniconda-installer-arm.pkg
  ```
  </TabItem>

  </Tabs>

  cela va lancer le programme d'installation;
  prenez les options par d√©faut, il n'y a pas de choix particulier o√π on pourrait se tromper..

  </Admonition>
</TabItem>

<TabItem label="Linux" icon="linux">

  <Admonition title="download" collapsible>

  ```bash
  curl https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -o miniconda-installer.sh
  bash miniconda-installer.sh
  ```

  </Admonition>


  <Admonition title="les r√©ponses aux questions" collapsible>

  les questions/r√©ponses se passent dans le terminal, voici quelques trucs utiles:

  - pendant le *License Agreement* on vous faire lire les conditions de la licence
    - pour avancer dans le document tapez *Espace*
    - pour abr√©ger, tapez simplement *`q`*
  - √† la question  
    `Do you wish to update your shell profile to automatically initialize conda?`  
    on recommande de r√©pondre `yes`
  </Admonition>

</TabItem>

</Tabs>

</Admonition>

<Admonition title="on v√©rifie conda et python" collapsible type="caution">
et on fait quoi pour v√©rifier ? on cr√©e un **nouveau terminal** !

  <Admonition title="le prompt (rappel)" collapsible>

  * le signe `$ ` **ne fait pas partie** de ce que vous devez taper
  * c'est juste une indication pour dire que la commande s'adresse au terminal  
    c-√†-d √† nouveau¬†: GitBash sur Windows, Terminal sur MacOS,  
    et n'importe quel terminal bash sur linux

  √ßa signifie que vous **n'avez pas √† taper le `$`**, ce
  sera d√©j√† affich√© lorsque vous taperez vos commandes
  </Admonition>

  <Admonition title="la commande conda" collapsible type="caution">

  vous cr√©ez un nouveau terminal, et vous tapez
  ```bash
  $ conda --version
  conda 23.5.2
  ```
  qui **ne doit pas** vous r√©pondre `command not found`  
  si c'est le cas, c'est que vous n'avez pas bien coch√© la case  
  *Add Miniconda3 to my PATH environment variable*  
  <LabeledLink label="label-troubleshoot-python-command-not-found" file="">dans ce cas voyez ici</LabeledLink>
  </Admonition>

  <Admonition title="version de python" type="caution" collapsible>

  pour savoir la version de python install√©e
  ```bash
  $ python --version
  Python 3.11.4
  ```
  vous **devez** avoir une version 3.x, et **surtout pas** 2.7
  </Admonition>

  <Admonition title="quel python ?" type="caution" collapsible>

  pour savoir quelle version de `python` est utilis√©e, vous pouvez taper
  ```console
  $ type python
  ```
  qui doit vous r√©pondre quelque chose comme
  ```console
  # sur Windows avec notre setup vous devez avoir
  python is /c/miniconda/python
  # sur Mac par exemple je vois 
  python is /c/Users/JeanMineur/miniconda3/python
  ```
  </Admonition>
</Admonition>

###  üöÄ exercice: vs-code + python

<Admonition title="pas √† pas" collapsible>

* cr√©er un nouveau terminal
* aller dans le dossier `cours-info` (on fait comment d√©j√† ?)
* lancez vs-code
  ```bash
  code .
  ```
* copiez-collez le code ci-dessous dans un fichier qui s'appelle `fact.py`
  ```python
  # une fonction qui calcule factorielle
  def fact(n):
      return 1 if n <= 1 else n * fact(n-1)


  # on affiche quelques r√©sultats
  for n in [4, 25]:
      print(f"fact({n}) = {fact(n)}")
  ```
  <Admonition title="quelques trucs" collapsible>

  utilisez les raccourcis clavier (remplacer Control par Command sur Mac)

  * Control-N: cr√©er un nouveau fichier
  * Control-S: sauver le nouveau fichier, et lui donner un nom si n√©cessaire
  * Control-A Control-C Control-V: comme d'habitude pour le copier-coller
  </Admonition>

* ex√©cutez le programme
  ```bash
  $ python fact.py
  fact(4) = 24
  fact(25) = 15511210043330985984000000
  ```
</Admonition>

## üîß  extras Python

### üîß les librairies num√©riques

c'est-√†-dire:
- numpy + pandas + matplotlib
- ainsi que IPython + Jupyter

<Admonition title="installation numpy et jupyter">

voici un bloc de commandes que vous pouvez copier-coller **dans le terminal**  
pour faire en un seul coup toutes les installations dont on aura besoin

par contre cela peut prendre un moment...

<LabeledAnchor label="label-config-jupytext" />

  ```bash
  # c'est avec pip install qu'on installe quasiment tout pour Python
  pip install numpy pandas matplotlib
  pip install ipython jupyter
  pip install jupytext jupyterlab-myst
  jupytext-config set-default-viewer
  ```
</Admonition>

<Admonition title="√† quoi servent Jupyter et Jupytext ?" collapsible>

le cours est √©crit sous forme de notebooks Jupyter, dans un format textuel (ici du markdown) gr√¢ce √† Jupytext

de mani√®re g√©n√©rale vous aurez le choix entre

* lire le cours en HTML (comme ce premier cours),
* ou de l'ex√©cuter sous forme de notebook en lan√ßant Jupyter sur votre ordi; on en reparlera
</Admonition>

<Admonition title="√† quoi sert jupytext-config ?" collapsible>

en l'absence de cette derni√®re commande, depuis Jupyter vous pouvez toujours ouvrir les notebooks jupytext ,
mais il faut passer par *Clic droit* ‚Üí *Open with* ‚Üí *Notebook*  
une fois que vous aurez ex√©cut√© la commande ci-dessus, vous pourrez ouvrir les notebooks
simplement en double-cliquant dessus
</Admonition>

<Admonition title="on v√©rifie numpy et jupyter" type="caution" collapsible>

  <Admonition title="version de ipython et numpy" collapsible type="caution">

  lancez `ipython` et tentez de reproduire cette session  
  vous ne devez pas avoir d'erreur du type `ModuleNotFound`

  ```bash
  $ ipython
  Python 3.11.4 | packaged by conda-forge | (main, Jun 10 2023, 18:10:28) [Clang 15.0.7 ]
  Type 'copyright', 'credits' or 'license' for more information
  IPython 8.14.0 -- An enhanced Interactive Python. Type '?' for help.

  In [1]: import numpy

  In [2]: print(numpy.__version__)
  1.26.0

  In [3]: exit()
  $
  ```
  </Admonition>

  <Admonition title="version de jupyter" collapsible type="caution">

  de retour dans le terminal, affichez les versions des composants de Jupyter avec cette commande  
  vous ne devez pas avoir de `command not found`
  ```bash
  jupyter --version
  ```
  </Admonition>

  <Admonition title="les modules install√©s avec pip (optionnel)" collapsible type="caution">

  ```bash
  # pour obtenir la liste des librairies install√©es
  # (possiblement beaucoup)
  pip list
  # pour voir la version install√©e de UNE librairie, par exemple
  pip show numpy
  ```
  </Admonition>

</Admonition>

### üîß configuration de l'autoreload

<Admonition title="autoreload">

copiez-collez ceci dans votre terminal

```bash
mkdir -p ~/.ipython/profile_default
cat >> ~/.ipython/profile_default/ipython_config.py << EOF
c.InteractiveShellApp.exec_lines = []
c.InteractiveShellApp.exec_lines.append('%load_ext autoreload')
c.InteractiveShellApp.exec_lines.append('%autoreload 2')
EOF
```
</Admonition>

<Admonition title="√† quoi √ßa sert ?" collapsible>

**le probl√®me**: vous √™tes dans `ipython` ou dans un notebook, et vous faites

```python
from my_module import my_function
my_function(...)
```

et puis ensuite un peu plus tard, vous modifiez `my_module.py` sous vs-code, et vous
voulez essayer la nouvelle version; votre premi√®re id√©e est de refaire l'import pour
recharger le module dans l'interpr√©teur

MAIS l√† attention, **un second `import` ne recharge pas le fichier** ! c'est le
comportement attendu, et souhaitable, car charger un module est co√ªteux; c'est
pourquoi l'interpr√©teur garde en m√©moire les modules qu'il a d√©j√† charg√©s, et du
coup vous pouvez r√©-importer autant que vous voulez, vous allez toujours utiliser
le premier code, et non ce que vous venez de modifier !

**la solution**: avec cette astuce, vous n'aurez plus besoin de r√©-importer,
vous pourrez juste r√©-ex√©cuter `my_function()` et vous utiliserez la derni√®re
version du module (pour autant que le nouveau module ne contienne pas d'erreur qui
emp√™che son chargement, bien entendu)

  <Admonition title="comment √ßa marche ?" collapsible>

  pour les curieux qui veulent comprendre, le script est en bash:

  * il commence par s'assurer que le dossier `.ipython/profile_default` existe sous le home directory
  * puis dans ce dossier, il ajoute dans le fichier `ipython_config.py` les 3 lignes de configuration qui pr√©c√®dent le `EOF` (c'est du Python bien s√ªr); le fichier est cr√©√© s'il n'existait pas
  </Admonition>
</Admonition>

### üîß Jupyter: windowing mode = defer

si vous rencontrez des soucis avec l'affichage de JupyterLab, qui "saute"
lorsque vous essayez de remonter dans le document, proc√©dez √† la manipe suivante:

<Steps>

1. <Admonition title="Ouvrez l'√©diteur de *Settings*" collapsible>
   <ImageLoader filename="jlab-config-defer-1.png" />
   </Admonition>
2. <Admonition title="Choisissez le mode `defer`" collapsible>
   cherchez le mot `windowing` pour trouver la bonne rubrique dans les *Settings*
    <ImageLoader filename="jlab-config-defer-2.png" />
    </Admonition>
</Steps>

##  üöÄ exercice: mon premier notebook

cet exercice est optionnel en temps contraint, mais on recommande de le faire √†
la maison pour se familiariser avec tous ces outils

<Admonition title="pas √† pas" collapsible>

<Steps>
1. cr√©ez un nouveau terminal
1. allez dans `cours-info`
1. tapez la commande `jupyter lab`
  cela doit ouvrir un nouvel onglet dans votre navigateur
  dans lequel tourne l'application Jupyter
  et le terminal devient inutilisable
1. menu *Jupytext* -> *New Text Notebook* -> *Markdown MyST*
1. renommez le nouveau fichier, qui a √©t√© cr√©√© sous le nom `Untitled.md`, en `my-first-notebook.md`
1. dans la premi√®re cellule vous mettez le code de la fonction `fact()` (voir + haut)
1. calculez diff√©rentes valeurs de `fact()` dans les cellules suivantes
1. cr√©ez une cellule markdown et voyez ce que √ßa donne
   * les styles gras, italique, code, etc..
   * les listes √† bullet
   * les titres
   * etc...
1. (option)  dans une autre cellule markdown vous ins√©rez une ou des √©quations $\LaTeX$, j'invente:
   $$
   \forall c \in \mathbb{C}^3-{1}, \exists c' \in \mathbb{C}^3, \phi(c') = \frac{c^2+1}{c-1}
   $$
1. sortez de JupyterLab en faisant *File* -> *Shutdown*
1. vous retournez dans le terminal qui maintenant fonctionne √† nouveau
</Steps>
</Admonition>

## üîß configuration git

avant de pouvoir utiliser git, il nous faire un minimum de configuration

c'est **tr√®s important** de bien **suivre toutes ces consignes**, 
ou alors vous risquez de s√©rieusement gal√©rer plus tard‚Ä¶

<Admonition title="votre identit√©">

pour commencer vous devez configurer git pour qu'il connaisse votre identit√©, cela sera utilis√© √† chaque fois que vous faites un *commit*

```bash
# remplacez ici vos nom et pr√©nom et mail
git config --global user.name "Jean Mineur"
git config --global user.email jean.mineur@etu.minesparis.psl.eu
```
</Admonition>

<LabeledAnchor label="label-vscode-for-commit" />

<Admonition title="les autres r√©glages">

√† copier-coller tel quel dans le terminal
````bash
# peut √™tre copi√© tel quel
git config --global core.editor "code --wait"
git config --global init.defaultbranch main
git config --global pull.rebase false
git config --global alias.l "log --oneline --graph"
git config --global alias.la "log --oneline --graph --all"
git config --global alias.s "status"
````

<Admonition title="√† quoi √ßa sert ?" collapsible>

* avec `core.editor` on choisit vs-code comme √©diteur (voir ci-dessous)
* avec `init.defaultbranch` on indique que la branche initiale s'appelle `main`
* avec `pull.rebase` on indique qu'on veut *merge* et non pas *rebase* lorsqu'on *pull*
* avec les trois `alias` on d√©finit des raccourcis; c'est comme √ßa par exemple qu'on pourra taper simplement  
  `git la`  
  au lieu de devoir taper  
  `git log --oneline --graph --all`
</Admonition>

<Admonition title="pour utiliser vs-code avec git" collapsible>

√† chaque commit est associ√© **un message**, et git a besoin de savoir **quel √©diteur de code** vous voulez utiliser pour entrer ce message

dans notre cas nous allons utiliser **vs-code**, et c'est le propos du r√©glage qui s'appelle `core.editor`

  <Admonition title="terminer la r√©daction du message" type="danger">

  lorsque vous faites par exemple `git commit` et que l'√©diteur se lance pour vous laisser entrer le message, le programme dans le terminal **attend que vous ayez fini** d'entrer le message  
  et pour lui dire "√ßa y est, j'ai fini, on peut finaliser le commit", ce que vous devez faire, c'est:
  - il ne suffit pas de simplement sauver le fichier (c'est n√©cessaire bien s√ªr, mais pas suffisant)  
  - ce qui compte c'est que vous ***fermiez l'onglet qui √©dite le message***;
  vous pouvez utiliser par exemple `Control-W` (ou Command-W sur mac); ou encore utiliser la petite croix en x √† droite de l'onglet
  - ce n'est **pas la peine** de terminer toute votre session vs-code (vous pouvez avoir plein d'autres fichiers ouverts √† ce moment-l√† dans vs-code)
  </Admonition>
</Admonition>

  <Admonition title="command not found ?" collapsible>

  pour que √ßa fonctionne, il faut bien s√ªr que la commande `code` soit bien install√©e dans votre PATH; si vous avez `command not found` quand vous tapez `code .` dans votre terminal, <LabeledLink label="label-troubleshoot-code-command-not-found" file="">reportez-vous √† la section sur ce probl√®me</LabeledLink>
  </Admonition>
</Admonition>

<Admonition title="on v√©rifie: mon premier commit (optionnel)" type="caution" collapsible>

voici un petit sc√©nario qui vous fait cr√©er un dossier, un repo git, un fichier, et un commit; toutes les commandes sont √† taper dans le terminal (bash bien s√ªr)

```bash
# je repars de mon homedir
cd
# je vais dans le dossier cours-info
cd cours-info
# je cr√©e un nouveau dossier 
mkdir my-first-git-repo
# je vais dedans
cd my-first-git-repo
# j'initialise ce dossier comme un repo git
git init
# je lance l'√©diteur de code
code .

# √† ce stade, dans vs-code, cr√©ez le fichier `readme.md`
# avec une ou deux lignes de texte, sauvez-le
# puis retournez dans le terminal:

# on veut que readme.md soit dans le commit qu'on va cr√©er
git add readme.md
git commit

# √† ce stade, vous devez voir une fen√™tre s'ouvrir dans vs-code
# allez-y, tapez un message sur la premi√®re ligne
# (par exemple `mon premier commit`),
# puis faites `Control-S` suivi de `Control-W`
# (ou Command-S suivi de Command-W sur mac)

# et l√† si tout se passe bien:
# la fen√™tre dans vs-code se ferme,
# et si vous retournez dans le terminal
# vous voyez que le `git commit` est termin√©

# on peut alors continuer, et faire
git log

# qui doit vous montrer UN commit; v√©rifiez
# que votre nom et mail est correct
# et que la branche s'appelle bien `main`
```

</Admonition>

## üîß github et la cl√© SSH

depuis Ao√ªt 2021, il est devenu tr√®s compliqu√© d'utiliser la m√©thode dite 'HTTPS' pour s'authentifier chez github;  
aussi nous allons ensemble voir comment cr√©er une cl√© pour la m√©thode SSH

### compte github

pour commencer, cr√©ez-vous un compte sur github si ce n'est pas d√©j√† fait

### c'est quoi SSH ?

au d√©part, c'est un syst√®me de terminal distant pour pouvoir administrer les serveurs √† distance; l'authentification est bas√©e sur le principe d'une paire de cl√©s publique/priv√©e

sans entrer dans les d√©tails, ces deux morceaux sont en gros **deux √©l√©ments sym√©triques** l'un de l'autre dans un tr√®s gros groupe fini, et on ne peut pas facilement calculer l'un √† partir de l'autre

par d√©finition:

* la cl√© publique peut √™tre divulgu√©e sans aucun souci au monde entier
* par contre **la cl√© priv√©e** doit √™tre gard√©e secr√®te, donc **jamais expos√©e/copi√©e** en dehors de votre ordi

et donc, ce qu'on va faire tout simplement, c'est:

* g√©n√©rer une paire de cl√©s
* et d√©poser une copie de la cl√© publique sur github, en l'associant √† votre compte github

### on y va

<Admonition title="cr√©ation de la paire de cl√©s" collapsible>

pour g√©n√©rer la cl√© publique vous faites simplement dans le terminal
```bash
ssh-keygen -t rsa
```

ce programme va vous poser des questions, √† ce stade je vous recommande de toujours **r√©pondre par simplement la touche *Entr√©e***, pour accepter les d√©fauts et ne pas attacher de mot de passe votre cl√© priv√©e (ce qui n'est pas une pratique hyper-s√ªre, mais √† ce stade de votre cursus √ßa parait raisonnable; si vous √™tes geek et/ou tr√®s soucieux de s√©curit√©, mettez un mot de passe mais soyez pr√™t √† taper votre mot de passe *ad nauseam*, ou √† passer du temps √† des configurations scabreuses pour ne pas avoir √† le faire...)
  <Admonition title="√ßa ressemble √† ceci" type="tip" icon="magnifier" collapsible>
  vous n'aurez pas *exactement* les m√™mes messages, mais pour que vous ne soyez pas surpris voici *en gros* √† quoi vous attendre comme session
  <ImageLoader filename="ssh-keygen.png" />
  </Admonition>
</Admonition>

<Admonition title="affichage de la cl√© publique" collapsible>

`ssh-keygen` va avoir pour effet de cr√©er deux fichiers situ√©s dans le dossier `~/.ssh`  
(le tilda signifie: directement sous votre homedir)

du coup vous affichez le contenu de la cl√© publique en faisant maintenant

```bash
# pensez √† copier-coller, surtout
# si vous ne trouvez pas le ~ sur votre clavier

cat ~/.ssh/id_rsa.pub
```

et vous copiez tout le contenu (en incluant bien tout, m√™me le `ssh-rsa` et tout)
  <Admonition title="√ßa ressemble √† ceci" type="tip" icon="magnifier" collapsible>
  de nouveau, pour que vous ne soyez pas surpris voici *en gros* √† quoi vous attendre comme session
  <ImageLoader filename="ssh-copy-key.png" />
  </Admonition>
</Admonition>

<Admonition title="attachez la cl√© √† votre compte github" collapsible>

maintenant vous allez sur github:

1. dans le coin en haut √† droite il y a votre ic√¥ne  
2. qui ouvre un sous-menu dans lequel vous choisissez *Settings*  
3. dans la partie gauche de la page qui s'ouvre, cliquez 'SSH and GPG Keys'

<ImageLoader filename="github-profile-1.png" />

et l√† vous pouvez ajouter votre cl√© publique SSH:

1. mettez ce que vous voulez comme titre
2. mais vous collez la cl√© publique dans la zone qui va bien

<ImageLoader filename="github-profile-2.png" />

</Admonition>

<LabeledAnchor label="label-install-nodejs" />

## üîß Node.js (S2 uniquement)

<Admonition title="Environnement actif" type="danger">

attention, comme toujours avec conda, l'installation n'a d'effet que **dans l'environnement virtuel actif**  
pensez √† faire d'abord le `conda activate` qui va bien, si n√©cessaire...

</Admonition>

<Admonition title="installation de Node.js" collapsible>

```bash
# ceci fonctionne mais me donne une version trop ancienne
# conda install nodejs
conda install conda-forge::nodejs=22
```

<Admonition title="pourquoi Node.js ?" type="tip" collapsible>

Node.js est un environnement d'ex√©cution JavaScript, qui permet de faire tourner du code JavaScript en dehors du navigateur. On va l'utiliser massivement dans le cours de S2, notamment pour faire tourner des serveurs web

cette installation vous donne acc√®s aux commandes `node` et `npm`

</Admonition>

</Admonition>

<Admonition title="v√©rification de l'installation" type="caution" collapsible>

```bash
node --version
# et aussi
npm --version
```

</Admonition>
